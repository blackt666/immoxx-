@tailwind base;
@tailwind components;
@tailwind utilities;

/* Prevent any blinking animations */
* {
  animation-duration: 0s !important;
  animation-delay: 0s !important;
}

/* Override blinking animations specifically */
@keyframes none {
  0% { opacity: 1; }
  100% { opacity: 1; }
}

/* Disable all pulse and blink animations */
.animate-pulse,
.animate-caret-blink,
*[class*="pulse"],
*[class*="blink"] {
  animation: none !important;
  transform: none !important;
}

/* Override Tailwind pulse animation */
@keyframes pulse {
  0%, 100% { opacity: 1; }
}

/* Override any scaling pulse effects */
@keyframes pulse-green {
  0%, 100% { transform: scale(1); }
}

.no-blink, .no-blink * {
  animation: none !important;
}

/* ====================================================
   BODENSEE IMMOBILIEN THEME SYSTEM - VOLLSTÄNDIG OPTIMIERT
   Professional Real Estate Design - September 2025
   ==================================================== */

/* Base Reset - Compatible with Theme Variables */
* {
  box-sizing: border-box;
}

html, body {
  margin: 0;
  padding: 0;
  font-family: var(--font-family-base, 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif);
  font-size: var(--font-size-base, 16px);
  line-height: var(--line-height-base, 1.6);
  font-weight: var(--font-weight-normal, 400);
  letter-spacing: var(--letter-spacing-base, 0px);
}

#root {
  min-height: 100vh;
}

/* Smooth scrolling for anchor links */
html {
  scroll-behavior: smooth;
}

@layer base {
  :root {
    /* ====================================================
       BODENSEE BRAND COLORS - Professional Real Estate
       Original Hex → Corrected HSL Conversion
       ==================================================== */
    
    /* Original Bodensee Brand Colors (Hex) - Exact from Design */
    --bodensee-deep: #566B73;    /* Ruskin Blue - Primary Dark */
    --bodensee-water: #65858C;   /* Arctic - Medium Blue-Grey */
    --bodensee-sand: #D9CDBF;    /* Bermuda Sand - Warm Beige */
    --bodensee-stone: #8C837B;   /* Mushroom - Medium Grey */
    --bodensee-shore: #BFADA3;   /* So Sublime - Light Taupe */

    /* Korrekte HSL-Konvertierung für shadcn/ui (Format: h s% l%) */
    --bodensee-deep-hsl: 196 14% 39%;     /* #566B73 → Ruskin Blue */
    --bodensee-water-hsl: 193 18% 47%;    /* #65858C → Arctic */
    --bodensee-sand-hsl: 35 25% 81%;      /* #D9CDBF → Bermuda Sand */
    --bodensee-stone-hsl: 30 8% 51%;      /* #8C837B → Mushroom */
    --bodensee-shore-hsl: 25 15% 68%;     /* #BFADA3 → So Sublime */
    
    /* ====================================================
       SHADCN/UI VARIABLES - BODENSEE BRAND MAPPING
       Professional Real Estate Design System
       ==================================================== */
    
    /* Light Theme - Optimiert für Immobilien-Präsentation & Accessibility */
    --background: 0 0% 100%;                          /* Pure white background */
    --foreground: 196 14% 25%;                        /* Darker for WCAG AAA contrast */
    --card: 0 0% 100%;                                /* White cards */
    --card-foreground: 196 14% 25%;                   /* Darker text for accessibility */
    --popover: 0 0% 100%;                             /* White popover background */
    --popover-foreground: 196 14% 25%;                /* Darker popover text */
    --primary: 196 14% 39%;                           /* Ruskin Blue - primary actions */
    --primary-foreground: 0 0% 100%;                  /* White text on primary */
    --secondary: 193 18% 47%;                         /* Arctic - secondary elements */
    --secondary-foreground: 0 0% 100%;                /* White on secondary */
    --muted: 35 25% 90%;                              /* Lighter sand for muted areas */
    --muted-foreground: 30 8% 40%;                    /* Darker for contrast */
    --accent: 193 18% 47%;                            /* Arctic - accent elements */
    --accent-foreground: 0 0% 100%;                   /* White on accent */
    --destructive: 0 84% 60%;                         /* Standard destructive red */
    --destructive-foreground: 0 0% 100%;              /* White on destructive */
    --border: 35 25% 85%;                             /* Bermuda sand for borders */
    --input: 35 25% 90%;                              /* Light input background */
    --ring: 196 14% 39%;                              /* Ruskin Blue focus ring */
    --radius: 0.5rem;                                 /* Standard border radius */

    /* ====================================================
       TYPOGRAPHY VARIABLES - PROFESSIONAL SYSTEM
       Inter Font Family für moderne Immobilien-Websites
       ==================================================== */
    
    --font-family-base: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    --font-size-base: 16px;
    --line-height-base: 1.6;
    --letter-spacing-base: 0px;
    --font-weight-normal: 400;
    --font-weight-bold: 600;
    
    /* Responsive Heading Scale - Professional Hierarchy */
    --font-size-h1: 2.25rem;     /* 36px - Hero headlines */
    --font-size-h2: 1.875rem;    /* 30px - Section headers */
    --font-size-h3: 1.5rem;      /* 24px - Subsection headers */
    --font-size-h4: 1.25rem;     /* 20px - Property titles */
    --font-size-h5: 1.125rem;    /* 18px - Card titles */
    --font-size-h6: 1rem;        /* 16px - Small headers */
  }

  /* ====================================================
     DARK THEME - PROFESSIONAL REAL ESTATE
     Optimiert für nächtliche Nutzung und Präsentationen
     ==================================================== */
  
  .dark {
    --background: 222 84% 5%;                         /* Very dark background */
    --foreground: 210 40% 98%;                        /* Light text */
    --card: 222 84% 6%;                               /* Slightly lighter cards */
    --card-foreground: 210 40% 98%;                   /* Light text on cards */
    --popover: 222 84% 5%;                            /* Dark popover */
    --popover-foreground: 210 40% 98%;                /* Light popover text */
    --primary: 188 30% 65%;                           /* Lighter bodensee-water for dark mode */
    --primary-foreground: 222 47% 11%;                /* Dark text on primary */
    --secondary: 217 33% 18%;                         /* Dark secondary */
    --secondary-foreground: 210 40% 98%;              /* Light text on secondary */
    --muted: 217 33% 18%;                             /* Dark muted background */
    --muted-foreground: 215 20% 65%;                  /* Muted text in dark mode */
    --accent: 217 33% 18%;                            /* Dark accent */
    --accent-foreground: 210 40% 98%;                 /* Light text on accent */
    --destructive: 0 63% 31%;                         /* Darker red for dark mode */
    --destructive-foreground: 210 40% 98%;            /* Light text on destructive */
    --border: 217 33% 18%;                            /* Dark borders */
    --input: 217 33% 18%;                             /* Dark inputs */
    --ring: 213 27% 84%;                              /* Light focus rings */
  }

  /* ====================================================
     BASE ELEMENT STYLES - THEME-COMPATIBLE
     Alle Basis-Elemente nutzen CSS-Variablen
     ==================================================== */

  * {
    border: 0;
  }
  
  body {
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
    font-family: var(--font-family-base, 'Inter', sans-serif);
    font-size: var(--font-size-base, 16px);
    line-height: var(--line-height-base, 1.6);
    letter-spacing: var(--letter-spacing-base, 0px);
    font-weight: var(--font-weight-normal, 400);
  }
  
  /* Typography Hierarchy - Professional Real Estate */
  h1, h2, h3, h4, h5, h6 {
    color: hsl(var(--foreground));
    font-weight: var(--font-weight-bold, 600);
    line-height: 1.2;
    letter-spacing: var(--letter-spacing-base, 0px);
    margin: 0; /* Reset margins for consistent spacing */
  }
  
  h1 {
    font-size: var(--font-size-h1, 2.25rem);
  }
  
  h2 {
    font-size: var(--font-size-h2, 1.875rem);
  }
  
  h3 {
    font-size: var(--font-size-h3, 1.5rem);
  }
  
  h4 {
    font-size: var(--font-size-h4, 1.25rem);
  }
  
  h5 {
    font-size: var(--font-size-h5, 1.125rem);
  }
  
  h6 {
    font-size: var(--font-size-h6, 1rem);
  }
  
  p {
    color: hsl(var(--foreground));
    font-size: var(--font-size-base, 16px);
    font-weight: var(--font-weight-normal, 400);
    line-height: var(--line-height-base, 1.6);
    letter-spacing: var(--letter-spacing-base, 0px);
    margin: 0; /* Reset margins for consistent spacing */
  }
}

/* ====================================================
   UTILITY CLASSES - BODENSEE BRAND SYSTEM
   ==================================================== */

/* Glass morphism effects for modern UI */
.glass {
  background: rgba(255, 255, 255, 0.25);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.18);
}

.glass-dark {
  background: rgba(0, 0, 0, 0.25);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.18);
}

/* Video optimization for hero sections */
video {
  transition: opacity 0.5s ease-in-out;
}

video:not([data-loaded="true"]) {
  opacity: 0;
}

video:not([src]):not([srcset]) + .video-fallback,
video[src=""] + .video-fallback,
video[srcset=""] + .video-fallback {
  opacity: 1 !important;
}

.hero-video {
  will-change: transform;
  transform: translateZ(0);
}

@layer components {
  /* ====================================================
     BODENSEE BRAND COMPONENT UTILITIES
     ==================================================== */

  .glassmorphism {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }

  .sidebar-gradient {
    background: linear-gradient(135deg, var(--bodensee-deep) 0%, var(--bodensee-water) 100%);
  }

  .bodensee-gradient {
    background: linear-gradient(135deg, var(--bodensee-water) 0%, var(--bodensee-sand) 100%);
  }

  .natural-gradient {
    background: linear-gradient(135deg, var(--bodensee-shore) 0%, var(--bodensee-sand) 100%);
  }

  .stats-card {
    background: linear-gradient(135deg, rgba(101, 133, 140, 0.1) 0%, rgba(217, 205, 191, 0.1) 100%);
  }

  /* Brand Color Utilities */
  .brand-primary {
    background-color: var(--bodensee-water);
  }

  .brand-deep {
    background-color: var(--bodensee-deep);
  }

  .brand-accent {
    background-color: var(--bodensee-sand);
  }

  .brand-stone {
    background-color: var(--bodensee-stone);
  }

  .brand-shore {
    background-color: var(--bodensee-shore);
  }

  /* Text Color Utilities */
  .text-brand-primary {
    color: var(--bodensee-water);
  }

  .text-brand-deep {
    color: var(--bodensee-deep);
  }

  .text-brand-accent {
    color: var(--bodensee-sand);
  }

  .text-brand-stone {
    color: var(--bodensee-stone);
  }

  /* Border Color Utilities */
  .border-brand-primary {
    border-color: var(--bodensee-water);
  }

  .border-brand-deep {
    border-color: var(--bodensee-deep);
  }

  /* Interactive States */
  .hover\:brand-primary:hover {
    background-color: var(--bodensee-water);
  }

  .hover\:brand-deep:hover {
    background-color: var(--bodensee-deep);
  }

  .focus\:ring-brand-primary:focus {
    --tw-ring-color: var(--bodensee-water);
  }
}

@layer utilities {
  /* ====================================================
     ANIMATION UTILITIES - PROFESSIONAL TRANSITIONS
     ==================================================== */

  .animate-fade-in-up {
    animation: fadeInUp 0.6s ease-out forwards;
  }

  .animate-slide-in-left {
    animation: slideInLeft 0.6s ease-out forwards;
  }

  .animate-slide-in-right {
    animation: slideInRight 0.6s ease-out forwards;
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slideInLeft {
    from {
      opacity: 0;
      transform: translateX(-30px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes slideInRight {
    from {
      opacity: 0;
      transform: translateX(30px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
}

/* ====================================================
   MOBILE OPTIMIZATIONS - FIX ALL REMAINING ISSUES
   ==================================================== */

/* Fix 1: Mobile Form Inputs - Minimum 44px height for touch */
@media (max-width: 768px) {
  input[type="text"],
  input[type="email"],
  input[type="tel"],
  input[type="password"],
  input[type="search"],
  input[type="url"],
  textarea,
  select {
    min-height: 44px !important;
    height: auto !important;
    padding: 12px 16px !important;
    font-size: 16px !important; /* Prevents iOS zoom on focus */
  }

  /* Ensure buttons are also touch-friendly */
  button,
  .btn,
  [role="button"] {
    min-height: 44px !important;
    padding: 12px 20px !important;
  }
}

/* Fix 2: Prevent Horizontal Scroll on Mobile */
html, body {
  overflow-x: hidden !important;
  max-width: 100vw !important;
}

#root {
  overflow-x: hidden !important;
  max-width: 100vw !important;
}

/* Ensure all containers respect viewport width */
* {
  max-width: 100%;
}

/* Fix 3: Contact Button Z-Index */
button[data-testid="button-human-contact"],
.contact-button,
nav button {
  position: relative !important;
  z-index: 50 !important;
}

/* Fix 4: Mobile Navigation - Force Mobile Menu on Small Screens */
@media (max-width: 1024px) {
  nav .desktop-nav {
    display: none !important;
  }

  nav .mobile-menu-button {
    display: flex !important;
  }
}

@media (min-width: 1025px) {
  nav .desktop-nav {
    display: flex !important;
  }

  nav .mobile-menu-button {
    display: none !important;
  }
}

/* Fix 5: Mobile Menu Timing Optimization */
.mobile-menu {
  transition: all 0.2s ease-in-out !important;
}

.mobile-menu-overlay {
  transition: opacity 0.2s ease-in-out !important;
}

/* ====================================================
   END BODENSEE THEME SYSTEM
   ==================================================== */

/* ====================================================
   ACCESSIBILITY (A11Y) - WCAG 2.1 AAA Compliance
   ==================================================== */

/* Screen Reader Only - Visually hidden but accessible */
.sr-only {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border-width: 0 !important;
}

/* Focus visible styles for keyboard navigation */
*:focus-visible {
  outline: 3px solid hsl(var(--ring)) !important;
  outline-offset: 2px !important;
  border-radius: 2px;
}

/* High contrast focus for interactive elements */
button:focus-visible,
a:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
  outline: 3px solid hsl(var(--ring)) !important;
  outline-offset: 2px !important;
  box-shadow: 0 0 0 3px rgba(86, 107, 115, 0.2) !important;
}

/* Skip to main content link for keyboard users */
.skip-to-main {
  position: absolute;
  top: -40px;
  left: 0;
  background: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
  padding: 8px 16px;
  text-decoration: none;
  border-radius: 0 0 4px 0;
  z-index: 9999;
  font-weight: 600;
}

.skip-to-main:focus {
  top: 0;
}

/* Reduced motion for accessibility */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  * {
    border-width: 2px !important;
  }

  button,
  a,
  input {
    outline: 2px solid currentColor !important;
    outline-offset: 2px !important;
  }
}

/* Touch target sizes (minimum 44x44px) */
button,
a,
input[type="button"],
input[type="submit"],
input[type="reset"],
[role="button"] {
  min-width: 44px;
  min-height: 44px;
}

/* Ensure text has sufficient contrast */
.text-contrast-high {
  color: hsl(196 14% 15%) !important;
}

.bg-contrast-high {
  background-color: hsl(0 0% 100%) !important;
}

/* ====================================================
   HERO SECTION CUSTOM STYLES
   ==================================================== */

.hero-gradient {
  background: linear-gradient(
    135deg,
    rgba(86, 107, 115, 0.8) 0%,
    rgba(101, 133, 140, 0.6) 50%,
    rgba(217, 205, 191, 0.4) 100%
  );
}

.hero-background {
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

.sidebar-gradient {
  background: linear-gradient(135deg, #566B73 0%, #65858C 100%);
}